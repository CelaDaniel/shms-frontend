<div *ngIf="user">
    <h2>User Profile</h2>
    <dl>
        <dt>Number: {{ user.number }}</dt>

        <dt>First Name: {{ user.firstName }}</dt>

        <dt>Last Name: {{ user.lastName }}</dt>

        <dt>Email: {{ user.email }}</dt>

        <dt>Description: {{ user.description }}</dt>
        <br />
        <dt>
            Roles:
            <mat-chip *ngFor="let role of user.roles">
                {{ role }}
            </mat-chip>
        </dt>
        <br />
        <dt>
            Status:
            <button
                mat-flat-button
                [color]="
                    user.userStatus === userStatus.ACTIVE ? 'primary' : 'warn'
                "
            >
                {{ user.userStatus }}
            </button>
        </dt>
    </dl>
    <br />

    <div class="login-container">
        <mat-card>
            <mat-card-header>
                <mat-card-title>Change password</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <form
                    role="form"
                    (ngSubmit)="submit()"
                    [formGroup]="changePasswordForm"
                >
                    <mat-form-field class="full-width">
                        <input
                            matInput
                            tabindex="1"
                            [type]="hideOld ? 'password' : 'text'"
                            name="oldPassword"
                            id="oldPassword"
                            placeholder="Old Password"
                            formControlName="oldPassword"
                        />
                        <button
                            mat-icon-button
                            matSuffix
                            (click)="hideOld = !hideOld"
                            [attr.aria-label]="'Hide password'"
                            [attr.aria-pressed]="hideOld"
                            type="button"
                        >
                            <mat-icon>{{
                                hideOld ? "visibility_off" : "visibility"
                            }}</mat-icon>
                        </button>
                    </mat-form-field>
                    <mat-form-field class="full-width">
                        <input
                            matInput
                            tabindex="2"
                            [type]="hide ? 'password' : 'text'"
                            name="newPassword"
                            id="newPassword"
                            placeholder="New Password"
                            formControlName="newPassword"
                        />
                        <button
                            mat-icon-button
                            matSuffix
                            (click)="hide = !hide"
                            [attr.aria-label]="'Hide password'"
                            [attr.aria-pressed]="hide"
                            type="button"
                        >
                            <mat-icon>{{
                                hide ? "visibility_off" : "visibility"
                            }}</mat-icon>
                        </button>
                    </mat-form-field>
                    <mat-form-field class="full-width">
                        <input
                            matInput
                            tabindex="3"
                            [type]="hideConfirm ? 'password' : 'text'"
                            name="confirmPassword"
                            id="confirmPassword"
                            placeholder="Confirm new password"
                            formControlName="confirmPassword"
                        />
                        <button
                            mat-icon-button
                            matSuffix
                            (click)="hideConfirm = !hideConfirm"
                            [attr.aria-label]="'Hide password'"
                            [attr.aria-pressed]="hideConfirm"
                            type="button"
                        >
                            <mat-icon>{{
                                hideConfirm ? "visibility_off" : "visibility"
                            }}</mat-icon>
                        </button>
                    </mat-form-field>
                    <button
                        mat-raised-button
                        type="submit"
                        color="primary"
                        [disabled]="changePasswordForm.invalid"
                    >
                        Submit
                    </button>
                </form>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<div *ngIf="!user">
    <p>Loading...</p>
</div>
